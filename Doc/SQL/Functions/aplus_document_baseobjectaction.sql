create or replace function aplus_document_baseobjectaction(_obj_type character varying(20) default '', _base_obj character varying(20) default ''
								, _canceled character varying(1) default '', _item_type character varying(1) default '')
	returns table (object_type character varying(20), base_object character varying(20), onhand_type character varying(2))
	language 'plpgsql'
as $$
BEGIN
	create local temporary table _temp_baseobjectaction (object_type character varying(20), base_object character varying(20), item_type character varying(1)
														 , canceled character varying(1), onhand_type character varying(2));
	insert into _temp_baseobjectaction values
			('13', '-1', 'O', 'N', 'O'),
			('13', '-1', 'O', 'Y', 'I'),
			('13', '23', 'O', 'N', 'O'),
			('13', '23', 'O', 'Y', 'I'),
			('13', '17', 'O', 'N', 'O'),
			('13', '17', 'O', 'Y', 'I'),
			('13', '15', 'O', 'N', 'N'),
			('13', '15', 'O', 'Y', 'N'),
			('1300', '-1', 'O', 'N', 'N'),
			('1300', '-1', 'O', 'Y', 'N'),
			('15', '-1', 'O', 'N', 'O'),
			('15', '-1', 'O', 'Y', 'I'),
			('15', '23', 'O', 'N', 'O'),
			('15', '23', 'O', 'Y', 'I'),
			('15', '17', 'O', 'N', 'O'),
			('15', '17', 'O', 'Y', 'I'),
			('15', '16', 'O', 'N', 'O'),
			('15', '16', 'O', 'Y', 'I'),
			('16', '-1', 'O', 'N', 'I'),
			('16', '-1', 'O', 'Y', 'O'),
			('16', '15', 'O', 'N', 'I'),
			('16', '15', 'O', 'Y', 'O'),
			('16', '234000031', 'O', 'N', 'I'),
			('16', '234000031', 'O', 'Y', 'O'),
			('17', '-1', 'O', 'N', 'ON'),
			('17', '-1', 'O', 'Y', 'IN'),
			('17', '23', 'O', 'N', 'ON'),
			('17', '23', 'O', 'Y', 'IN'),
			('23', '-1', 'O', 'N', 'N'),
			('23', '-1', 'O', 'Y', 'N'),
			('234000031', '-1', 'O', 'N', 'IN'),
			('234000031', '-1', 'O', 'Y', 'ON'),
			('18', '-1', 'P', 'N', 'I'),
			('18', '-1', 'P', 'Y', 'O'),
			('18', '20', 'P', 'N', 'N'),
			('18', '20', 'P', 'Y', 'N'),
			('18', '22', 'P', 'N', 'I'),
			('18', '22', 'P', 'Y', 'O'),
			('18', '540000006', 'P', 'N', 'I'),
			('18', '540000006', 'P', 'Y', 'O'),
			('25', '-1', 'P', 'N', 'N'),
			('25', '-1', 'P', 'Y', 'N'),
			('20', '-1', 'P', 'N', 'I'),
			('20', '-1', 'P', 'Y', 'O'),
			('20', '21', 'P', 'N', 'I'),
			('20', '21', 'P', 'Y', 'O'),
			('20', '22', 'P', 'N', 'I'),
			('20', '22', 'P', 'Y', 'O'),
			('20', '540000006', 'P', 'N', 'I'),
			('20', '540000006', 'P', 'Y', 'O'),
			('21', '-1', 'P', 'N', 'O'),
			('21', '-1', 'P', 'Y', 'I'),
			('21', '20', 'P', 'N', 'O'),
			('21', '20', 'P', 'Y', 'I'),
			('21', '540000006', 'P', 'N', 'O'),
			('21', '540000006', 'P', 'Y', 'I'),
			('22', '-1', 'P', 'N', 'IN'),
			('22', '-1', 'P', 'Y', 'ON'),
			('22', '540000006', 'P', 'N', 'IN'),
			('22', '540000006', 'P', 'Y', 'ON'),
			('234000032', '-1', 'P', 'N', 'ON'),
			('234000032', '-1', 'P', 'Y', 'IN'),
			('540000006', '-1', 'P', 'N', 'N'),
			('540000006', '-1', 'P', 'Y', 'N'),
			('59', '-1', 'I', 'N', 'I'),
			('59', '-1', 'I', 'Y', 'O'),
			('59', '60', 'I', 'N', 'I'),
			('59', '60', 'I', 'Y', 'O'),
			('60', '-1', 'I', 'N', 'O'),
			('60', '-1', 'I', 'Y', 'I'),
			('60', '59', 'I', 'N', 'O'),
			('60', '59', 'I', 'Y', 'I'),
			('67', '-1', 'I', 'N', 'O'),
			('67', '-1', 'I', 'Y', 'I'),
			('67', '1250000001', 'I', 'N', 'O'),
			('67', '1250000001', 'I', 'Y', 'I'),
			('1250000001', '-1', 'I', 'N', 'N'),
			('1250000001', '-1', 'I', 'Y', 'N');

	return query select * from _temp_baseobjectaction a where (coalesce(_obj_type, '') = '' or a.object_type = _obj_type) 
															and (coalesce(_base_obj, '') = '' or a.base_object = _base_obj)
															and (coalesce(_item_type, '') = '' or a.item_type = _item_type)
															and (coalesce(_canceled, '') = '' or a.canceled = _canceled);
	drop table _temp_baseobjectaction;
END; $$